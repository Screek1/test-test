{% extends 'admin/base.html.twig' %}

{% block title %}Edit Page{% endblock %}

{% block body %}
    <div class="content-header">
        <h1 class="text-dark">Edit Page</h1>
    </div>

    <div class="content px-2">
        <div class="card card-primary card-outline">
            <div class="card-body">
                <form class="form-style js-ajax-form"
                      action="{{ path('admin_school_update', {'id': school.id }) }}"
                      method="post"
                      autocomplete="off"
                      data-prevent-clear="true"
                      data-remove-ty="true"
                      data-success-trigger="trigger:update-data">
                    <div class="box-body">
                        <div class="form-group row">
                            <div class="col-6">
                                <label for="name">School Name</label>
                                <input type="text" name="name" class="form-control required"
                                       value="{{ school.name|default('') }}">
                            </div>
                            <div class="col-6">
                                <label for="street">Street</label>
                                <input type="text" name="street" class="form-control"
                                       value="{{ school.street|default('') }}">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-6">
                                <label for="city">City</label>
                                <input type="text" name="city" class="form-control"
                                       value="{{ school.city|default('') }}">
                            </div>
                            <div class="col-6">
                                <label for="state">State</label>
                                <input type="text" name="state" class="form-control"
                                       value="{{ school.state|default('') }}">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col">
                                <label for="coordinates">Area</label>
                                <textarea name="coordinates" class="form-control w-100" id="coordinates" rows="15">
                                    {% if school.areas.coordinates[0] is defined %}
                                        {{ school.areas.coordinates[0]|json_encode }}
                                    {% endif %}
                                </textarea>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-6">
                                <label for="url">Url</label>
                                <input type="text" name="url" class="form-control"
                                       value="{{ school.uri|default('') }}">
                            </div>
                            <div class="col-6">
                                <label for="rating">Rating</label>
                                <input type="number" name="rating" max="10" min="0" class="form-control"
                                       step="0.01" value="{{ school.rating|default('') }}">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-6">
                                <label for="lat">Url</label>
                                <input type="number" step="0.000001" name="lat" class="form-control"
                                       value="{{ school.coordinates.lat|default('') }}">
                            </div>
                            <div class="col-6">
                                <label for="lon">Url</label>
                                <input type="number" step="0.000001" name="lon" class="form-control"
                                       value="{{ school.coordinates.lon|default('') }}">
                            </div>
                        </div>


                        <div class="dropdown-divider"></div>
                    </div>
                    <div class="box-footer">
                        <button type="submit" class="btn btn-primary">{{ button_label|default('Save') }}</button>
                        <a class="btn btn-light" href="{{ path('admin_schools_index') }}" hreflang="en">back to list</a>
                    </div>
                </form>
            </div>
        </div>

        {#        {{ include('admin/page/_delete_form.html.twig') }} #}
    </div>
{% endblock %}